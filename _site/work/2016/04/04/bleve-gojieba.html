<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
    <head>
        <meta charset="utf-8">
        <meta property="wb:webmaster" content="f97b0cc1aaecb801" />

        <!-- 百度站内搜索 -->
        <meta name="baidu-site-verification" content="VYH77GDc5e" />
        <!-- 百度站内搜索 -->

        <title>bleve中文分词插件之gojieba</title>
        <!--<meta name="viewport" content="width=device-width, initial-scale=1" />-->
        <!--<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />-->

        <link rel="stylesheet" href="/css/highlight7.1.default.min.css">
        <script src="/js/highlight7.1.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <link rel="stylesheet" href="/css/style.css">

        <!--
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-49284793-2', 'yanyiwu.com');
          ga('send', 'pageview');

        </script>
        -->

        <!-- picture -->
        <!--
        <script type="text/javascript" src="/js/pic.js"> </script>
        -->

        <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

    </head>
    <body>
        <nav>
            <ul>
                <li onclick="location.href='/'">『首页』</li>
                <li onclick="location.href='/moment.html'">『时间线』</li>
                <li onclick="location.href='/discover.html'">『发现』</li>
                <li onclick="location.href='/about.html'">『关于·我』</li>
            </ul>
        </nav> 
        <div class="blog_index">
            <div id="logo">
                <a href="https://github.com/yanyiwu">
                    <img src="/img/github_logo.jpg"/>
                </a>
                <a href="http://weibo.com/buptwyy">
                    <img src="/img/weibo_logo.jpg"/>
                </a>
                <a href="http://7viirv.com1.z0.glb.clouddn.com/qrcodes_yanyiwu_personal.jpg">
                    <img src="/img/wechat_logo.jpg"/>
                </a>
                <a href="http://www.zhihu.com/people/yanyiwu.com">
                    <img src="/img/zhihu_logo.jpg" />
                </a>
                <a href="/rss.xml">
                    <img src="/img/rss_logo.jpg"/>
                </a>
            </div>
            <div>
                <div>
<h1 class="post_title">
    bleve中文分词插件之gojieba
</h1>

<div class="post_date">
    04 Apr 2016
</div>

<div class="blog_post">
    <p><center>
<img src="http://7viirv.com1.z0.glb.clouddn.com/bleve-gojieba-logo.png" class="photo", style="width:80%"></img>
</center></p>

<p>『Go语言开发的搜索引擎<a href="https://github.com/blevesearch/bleve">bleve</a>』  </p>

<p>先安利一个Go语言开发的搜索引擎 <a href="https://github.com/blevesearch/bleve">bleve</a> ，<br>
目前看来这应该是 Go语言开发的搜索引擎里面最有潜力，<br>
或者说最不像玩具的搜索引擎。  </p>

<p>简单试用了一下体验还可以，<br>
并试探性的提了一个关于打版本标签的 issue ，<br>
作者的回复响应速度也很快。<br>
网上搜的资料上显示 <a href="https://github.com/blevesearch/bleve">bleve</a> 是由 CouchBase 团队打造出来的。<br>
但是我比较不理解的是为什么看了一下代码提交的commit ，<br>
主要都是由作者一个人提交的代码。<br>
这个比较费解。<br>
不过Anyway，这个项目对于Go社区来说是个好消息。<br>
也希望这个项目能发展越来越好，我也已经Watch了 <a href="https://github.com/blevesearch/bleve">bleve</a> ,<br>
希望之后能有所贡献。  </p>

<p>『转入正题』  </p>

<p>有朋友在 <a href="https://github.com/yanyiwu/gojieba">gojieba</a> 的 issue 里面提到希望把 <a href="https://github.com/yanyiwu/gojieba">gojieba</a> 集成到 <a href="https://github.com/blevesearch/bleve">bleve</a> 中作为中文分词的插件。<br>
所以趁这个清明假期把 <a href="https://github.com/yanyiwu/gojieba/tree/master/bleve">gojieba/bleve</a> 模块完成了。<br>
具体的用法非常简单明了，在 <a href="https://github.com/yanyiwu/gojieba">gojieba</a> 的 README.md 里面有说明。  </p>

<p><a href="https://github.com/blevesearch/bleve">bleve</a> 的插件模块支持的很好，很容易就无缝集成进去。<br>
而且很灵活，主要是两个主要的模块 Tokenizer, Analyzer .<br>
前者是后者的子集。<br>
前者负责分词，但是其实搜索引擎分词其实其中的一个重要环节而已。<br>
去停用词，大小写转换等，分词前分词后，都有不少功夫需要做。<br>
目前的 <a href="https://github.com/yanyiwu/gojieba/tree/master/bleve">gojieba/bleve</a> 只是最简单的 Analyzer ，<br>
分词也是使用了最简单的最大概率法，后面应该会改进成 CutForSearch 模式，进行更细粒度的分词提高召回率。<br>
后续还有很多调优。  </p>

<p>与此同时，也写了一个使用 <a href="https://github.com/blevesearch/bleve">bleve</a> 和 <a href="https://github.com/yanyiwu/gojieba">gojieba</a> 对 jekyll 博文进行索引和搜索的示例代码： <a href="https://github.com/yanyiwu/practice/tree/master/go/bleve/jekyllsearch">blogsearch</a><br>
很轻松就跑起来了。<br>
当然目前的代码都很 rush 很粗糙，<br>
但是或许之后在空闲的时间会针对博客系统做搜索引擎的集成，<br>
起码在我的博客 <a href="http://yanyiwu.com">yanyiwu.com</a> 里面可以试试。  </p>

<p>『附注』  </p>

<ul>
<li>本文所述基于 <a href="https://github.com/yanyiwu/gojieba">gojieba</a> v0.12.0 版本<br></li>
</ul>

<center>
<img src="http://7viirv.com1.z0.glb.clouddn.com/qrcodes_yanyiwu_public.jpg" class="photo" style="width:60%"></img>
</center>
<p>转载请注明出处: <a href="http://yanyiwu.com/work/2016/04/04/bleve-gojieba.html">bleve中文分词插件之gojieba</a></p>
</div>

</div>

<div class="review">

<!-- 百度分享按钮 start -->
<!--
<div class="bdsharebuttonbox">
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_more" data-cmd="more"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"24"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
-->
<!-- 百度分享按钮 end -->


<!-- 微博分享按钮 start -->
<!--
<wb:share-button addition="simple" type="button" ralateUid="1644441707"></wb:share-button>
-->

<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="/work/2016/04/04/bleve-gojieba" data-title="bleve中文分词插件之gojieba" data-url="yanyiwu.com/work/2016/04/04/bleve-gojieba.html">
</div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"yanyiwu"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->


</div>

            </div>
        </div>
        <!--kaiyi i love u so much-->
        <footer id="footer">
            <p>
                <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253065108'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1253065108' type='text/javascript'%3E%3C/script%3E"));</script>
                <a href="http://www.miitbeian.gov.cn/">京ICP备14020698号</a>
            </p>
        </footer>
    </body>
</html>
